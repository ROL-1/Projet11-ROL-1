{% extends 'webapp/base.html' %}

{% block content %}
<!-- Masthead-->
{% load my_tags %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'webapp/css/styles_results.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'webapp/css/styles_search.css' %}" />
<header class="masthead masthead-results h-auto">
    <div class="container h-100">
        <div class="row h-100 align-items-center justify-content-center text-center">
            <div class="col-lg-10">
                <h1 class="text-white text-uppercase font-weight-bold masthead__text">{{ query }}
                </h1>
            </div>
        </div>
    </div>
</header>

<!-- Results -->
<section class="page-section main-section bg-primary">
    <div class="container">
        <div class="text-center">
            <h2 class="text-grey mt-0">Choisissez un produit à substituer :</h2>
            <hr class="divider darth my-4" />
        </div>

        <!-- Filters -->
        <div class="container filters text-center">
            <p>Filtres :</p>
            <button class="filter" id="reset_filters" value="5"></button>
            {% for x in nutriscore_list %}
            {% if x == 1 %}<button class="filter letters" id="filter_A" value="1"></button>{% endif %}
            {% if x == 2 %}<button class="filter letters" id="filter_B" value="2"></button>{% endif %}
            {% if x == 3 %}<button class="filter letters" id="filter_C" value="3"></button>{% endif %}
            {% if x == 4 %}<button class="filter letters" id="filter_D" value="4"></button>{% endif %}
            {% if x == 5 %}<button class="filter letters" id="filter_E" value="5"></button>{% endif %}
            {% endfor %}
        </div>

        <!-- Portfolio-->
        <div id="portfolio">
            <div class="container-fluid p-0">
                <div class="row no-gutters center">
                    {% include 'webapp/portfoliobox.html'%}
                </div>
            </div>
        </div>
    </div>
    <div class="container text-center">
        <ul class="pager">
            page {{ products.number }} sur {{ products.paginator.num_pages }}<br />
            {% if products.has_previous %}
            <!-- <a class="col-sm-2 btn btn-primary"
                href="?query={{ query }}&page={{ products.previous_page_number }}">Précédent</a> -->
            <a class="col-sm-2 btn btn-primary"
                href="?{% param_replace page=products.previous_page_number %}">Précédent</a>
            {% endif %}
            {% if products.has_next %}
            <a class="col-sm-2 btn btn-primary" href="?{% param_replace page=products.next_page_number %}">Suivant</a>
            <!-- <a class="col-sm-2 btn btn-primary"
                href="?query={{ query }}&page={{ products.next_page_number }}">Suivant</a> -->
            {% endif %}
        </ul>
    </div>
</section>

{% endblock %}